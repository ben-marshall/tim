<!-- HTML header for doxygen 1.8.6-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>T.I.M | ISA Specification: ISA Instructions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="style.css" rel="stylesheet" type="text/css"/>
<style type="text/css">
#nav-tree {
    background-image : none;
    background-color : white;
}
#nav-tree .selected{
    background-image : none;
    background-color : #222222;
    color : white;
}
#nav-sync{
    display:none;
}
#nav-tree .item{
    margin: 7px;
    padding: 3px;
    padding-right:0px;
    padding-left:0px;
    margin-right:0px;
    margin-left:0px;
}
#nav-tree .label{
    font-size : 14px;
}
#MSearchBox{
    display:none;
}
.ui-resizable-e{
    background-color: silver;
    background-image: none;
}
#titlearea table{
    width:100%;
}
#projectname{
    text-align: center;
}
#projectlogo{
    width:80px;
}
.head-navbar{
    width:270px;
    padding-right:12px;
}
.head-navbar ul {
    list-style:none;
    height:40px;
    padding:0;
    background: #eee;
    background: -moz-linear-gradient(top, #f8f8f8 0%, #dddddd 100%);
    background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#f8f8f8), color-stop(100%,#dddddd));
    background: -webkit-linear-gradient(top, #f8f8f8 0%,#dddddd 100%);
    background: -o-linear-gradient(top, #f8f8f8 0%,#dddddd 100%);
    background: -ms-linear-gradient(top, #f8f8f8 0%,#dddddd 100%);
    background: linear-gradient(top, #f8f8f8 0%,#dddddd 100%);
    border-radius:5px;
    border:1px solid #d2d2d2;
    box-shadow:inset #fff 0 1px 0, inset rgba(0,0,0,0.03) 0 -1px 0;
    width:270px;
}
.head-navbar li {
    width:89px;
    float:left;
    border-right:1px solid #d2d2d2;
    height:40px;
}
.head-navbar ul a {
    line-height:1;
    font-size:11px;
    color:#999;
    display:block;
    text-align:center;
    padding-top:6px;
    height:40px;
}
.head-navbar ul li + li {
      width:88px;
        border-left:1px solid #fff;
}
.head-navbar ul li + li + li {
      border-right:none;
        width:89px;
}
.head-navbar ul a strong {
      font-size:14px;
        display:block;
          color:#222;
}
</style>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="">
  <td id="projectlogo"><img alt="Logo" height="55px" style="padding:3px;" src="logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">T.I.M | ISA Specification
   </div>
  </td>
  <td class="head-navbar">
    <ul>
        <li><a href="../isa/index.html">Instruction Set<strong>Architecture</strong></a></li>
        <li><a href="../hw/index.html">Documentation<strong>Hardware</strong></a></li>
        <li><a href="../sw/index.html">Documentation<strong>Software</strong></a></li>
    </ul>
  </td>
   <td style="width:0px;">        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('instructions.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">ISA Instructions </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#Layouts"></a><ul><li class="level2"><a href="#byte1">1-Byte Instructions.</a></li>
<li class="level2"><a href="#byte2">2-Byte instructions</a></li>
<li class="level2"><a href="#byte3">3-Byte instructions</a></li>
<li class="level2"><a href="#byte4">4-Byte instructions</a></li>
</ul>
</li>
<li class="level1"><a href="#conditional-execution">Conditional Execution</a></li>
<li class="level1"><a href="#instructions-list">Instructions Quick Reference</a></li>
</ul>
</div>
<div class="textblock"><p>This page lists all of the instructions used in the ISA along with their memory layouts.</p>
<h1><a class="anchor" id="Layouts"></a>
Layouts</h1>
<p>There are several different instruction layout types. All instructions are either 1, 2, 3 or 4 bytes long. The first byte always has the same layout. The first six bits are the opcode, the next two make up the condition code. See Conditional Execution. Thus, all instructions have the following very general layout:</p>
<div class="fragment"><div class="line">Opcode | CC | Optional extra arguments.</div>
<div class="line">?????? | ?? | .............................</div>
</div><!-- fragment --><p>All instructions are packed together in memeory with no byte gaps. The only requirement is that they are single byte-aligned. Hence a sequence of instructions such as: 3-byte, 1-byte, 2-byte, 4-byte would be packed as below. Note a nibble is shown as one letter for conciseness.</p>
<div class="fragment"><div class="line">AA AA AA BB CC CC DD DD DD DD</div>
</div><!-- fragment --><p>While the following (unpacked) 4-byte aligned sequence is invalid and its behavior unspecified:</p>
<div class="fragment"><div class="line">AA AA AA 00 BB 00 00 00 CC CC 00 00 DD DD DD DD</div>
</div><!-- fragment --><h2><a class="anchor" id="byte1"></a>
1-Byte Instructions.</h2>
<p>These are the simplest instructions. Usually they perform a very precise operation or collection of operations in parts of the CPU not accessable by the rest of the instruction set. Their layout is as follows:</p>
<div class="fragment"><div class="line">Opcode | CC</div>
<div class="line">?????? | ??</div>
</div><!-- fragment --><h2><a class="anchor" id="byte2"></a>
2-Byte instructions</h2>
<p>Usually register to register operations for simple movement / value copying between registers.</p>
<div class="fragment"><div class="line">Opcode | CC | Arguments</div>
<div class="line">?????? | ?? | ????????</div>
</div><!-- fragment --><h2><a class="anchor" id="byte3"></a>
3-Byte instructions</h2>
<p>Most instructions are 3 bytes in length. This includes all instructions with three register operands.</p>
<div class="fragment"><div class="line">Opcode | CC | Arguments</div>
<div class="line">?????? | ?? | ???????? | ????????</div>
</div><!-- fragment --><h2><a class="anchor" id="byte4"></a>
4-Byte instructions</h2>
<p>4 Byte instructions usually include 16 bits of immediate.</p>
<div class="fragment"><div class="line">Opcode | CC | Arguments</div>
<div class="line">?????? | ?? | ???????? | ???????? | ????????</div>
</div><!-- fragment --><h1><a class="anchor" id="conditional-execution"></a>
Conditional Execution</h1>
<p>All instructions support conditional execution. The two bits following the opcode in every instruction are a condition code which specifies the predicate to be satisfied if the instruction is to be executed:</p>
<ul>
<li><code>00</code> - Always execute the instruction.</li>
<li><code>01</code> - Execute if and only if the last test was TRUE.</li>
<li><code>10</code> - Execute if and only if the last test was FALSE.</li>
<li><code>11</code> - Execute if and only if zero flag in the Status Register is</li>
</ul>
<p>The result of each TEST instruction is stored in the Test Result register, and updated with each subsequent TEST instruction. Note that the TEST instruction itself can also be conditionally executed, meaning complex expressions can be built from sequences of tests.</p>
<h1><a class="anchor" id="instructions-list"></a>
Instructions Quick Reference</h1>
<table class="doxtable">
<tr>
<th>Memonic </th><th>Description  </th></tr>
<tr>
<td><a class="el" href="LOADR.html">LOADR</a> </td><td>Load to register X from address in register Y with offset in register Z. </td></tr>
<tr>
<td><a class="el" href="LOADI.html">LOADI</a> </td><td>Load to register X from address in register Y with immediate offset. </td></tr>
<tr>
<td><a class="el" href="STORI.html">STORI</a> </td><td>Store register X to address in register Y with offset in register Z. </td></tr>
<tr>
<td><a class="el" href="STORR.html">STORR</a> </td><td>Store register X to address in register Y with immediate offset. </td></tr>
<tr>
<td><a class="el" href="PUSH.html">PUSH</a> </td><td>Push register X onto the top of the stack and decrement the stack pointer. </td></tr>
<tr>
<td><a class="el" href="POP.html">POP</a> </td><td>Pop element at top of stack into register X and increment the stack pointer. </td></tr>
<tr>
<td><a class="el" href="MOVR.html">MOVR</a> </td><td>Move the content of register X into register Y </td></tr>
<tr>
<td><a class="el" href="MOVI.html">MOVI</a> </td><td>Move immediate I into register X </td></tr>
<tr>
<td><a class="el" href="JUMPR.html">JUMPR</a> </td><td>Jump to address contained within register X </td></tr>
<tr>
<td><a class="el" href="JUMPI.html">JUMPI</a> </td><td>Jump to address contained within instruction immediate. </td></tr>
<tr>
<td><a class="el" href="CALLR.html">CALLR</a> </td><td>Call to function who's address is contained within register X </td></tr>
<tr>
<td><a class="el" href="CALLI.html">CALLI</a> </td><td>Call to function who's address is contained within instruction immediate. </td></tr>
<tr>
<td><a class="el" href="RETURN.html">RETURN</a> </td><td>Return from the last function call. </td></tr>
<tr>
<td><a class="el" href="TEST.html">TEST</a> </td><td>Test two general or special registers and set comparison bits. </td></tr>
<tr>
<td><a class="el" href="HALT.html">HALT</a> </td><td>Stop processing and wait to be reset. </td></tr>
<tr>
<td><a class="el" href="ANDR.html">ANDR</a> </td><td>Bitwise AND two registers together. </td></tr>
<tr>
<td><a class="el" href="NANDR.html">NANDR</a> </td><td>Bitwise NAND two registers together. </td></tr>
<tr>
<td><a class="el" href="ORR.html">ORR</a> </td><td>Bitwise OR two registers together. </td></tr>
<tr>
<td><a class="el" href="NORR.html">NORR</a> </td><td>Bitwise NOR two registers together. </td></tr>
<tr>
<td><a class="el" href="XORR.html">XORR</a> </td><td>Bitwise XOR two registers together. </td></tr>
<tr>
<td><a class="el" href="LSLR.html">LSLR</a> </td><td>Logical shift left the bits in register X by the value in register Y. </td></tr>
<tr>
<td><a class="el" href="LSRR.html">LSRR</a> </td><td>Logical shift right the bits in register X by the value in register Y. </td></tr>
<tr>
<td><a class="el" href="NOTR.html">NOTR</a> </td><td>Bitwise invert the specificed register. </td></tr>
<tr>
<td><a class="el" href="ANDI.html">ANDI</a> </td><td>Bitwise AND two registers together. </td></tr>
<tr>
<td><a class="el" href="NANDI.html">NANDI</a> </td><td>Bitwise NAND two registers together. </td></tr>
<tr>
<td><a class="el" href="ORI.html">ORI</a> </td><td>Bitwise OR two registers together. </td></tr>
<tr>
<td><a class="el" href="NORI.html">NORI</a> </td><td>Bitwise NOR two registers together. </td></tr>
<tr>
<td><a class="el" href="XORI.html">XORI</a> </td><td>Bitwise XOR two registers together. </td></tr>
<tr>
<td><a class="el" href="LSLI.html">LSLI</a> </td><td>Logical shift left the bits in register X by the immediate value </td></tr>
<tr>
<td><a class="el" href="LSRI.html">LSRI</a> </td><td>Logical shift right the bits in register X by the immediate value </td></tr>
<tr>
<td><a class="el" href="IADDI.html">IADDI</a> </td><td>Integer Add register X to immediate value. </td></tr>
<tr>
<td><a class="el" href="ISUBI.html">ISUBI</a> </td><td>Integer Subtract immediate value from register X. </td></tr>
<tr>
<td><a class="el" href="IMULI.html">IMULI</a> </td><td>Integer Multiply register X by immediate value. </td></tr>
<tr>
<td><a class="el" href="IDIVI.html">IDIVI</a> </td><td>Integer Divide register X by immediate value. </td></tr>
<tr>
<td><a class="el" href="IASRI.html">IASRI</a> </td><td>Integer Arithmetic shift register X right immediate value. </td></tr>
<tr>
<td><a class="el" href="IADDR.html">IADDR</a> </td><td>Integer Add register X to register Y. </td></tr>
<tr>
<td><a class="el" href="ISUBR.html">ISUBR</a> </td><td>Integer Subtract register X from register Y. </td></tr>
<tr>
<td><a class="el" href="IMULR.html">IMULR</a> </td><td>Integer Multiply register X by register Y. </td></tr>
<tr>
<td><a class="el" href="IDIVR.html">IDIVR</a> </td><td>Integer Divide register X by register Y. </td></tr>
<tr>
<td><a class="el" href="IASRR.html">IASRR</a> </td><td>Integer Arithmetic shift register X right value in register Y. </td></tr>
<tr>
<td><a class="el" href="FADDI.html">FADDI</a> </td><td>Floating point Add register X to immediate value. </td></tr>
<tr>
<td><a class="el" href="FSUBI.html">FSUBI</a> </td><td>Floating point Subtract immediate value from register X. </td></tr>
<tr>
<td><a class="el" href="FMULI.html">FMULI</a> </td><td>Floating point Multiply register X by immediate value. </td></tr>
<tr>
<td><a class="el" href="FDIVI.html">FDIVI</a> </td><td>Floating point Divide register X by immediate value. </td></tr>
<tr>
<td><a class="el" href="FASRI.html">FASRI</a> </td><td>Floating point Arithmetic shift register X right immediate value. </td></tr>
<tr>
<td><a class="el" href="FADDR.html">FADDR</a> </td><td>Floating point Add register X to register Y. </td></tr>
<tr>
<td><a class="el" href="FSUBR.html">FSUBR</a> </td><td>Floating point Subtract register X from register Y. </td></tr>
<tr>
<td><a class="el" href="FMULR.html">FMULR</a> </td><td>Floating point Multiply register X by register Y. </td></tr>
<tr>
<td><a class="el" href="FDIVR.html">FDIVR</a> </td><td>Floating point Divide register X by register Y. </td></tr>
<tr>
<td><a class="el" href="FASRR.html">FASRR</a> </td><td>Floating point Arithmetic shift register X right value in register Y. </td></tr>
</table>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.6-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
  </ul>
</div>
</body>
</html>
